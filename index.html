<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Auto-Trumpf — Garage, Coins & Upgrades (Erweitert)</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="container" role="main">
    <header>
      <h1>Auto-Trumpf</h1>
      <p class="subtitle">Verdiene Coins, verbessere Karten in der Garage — jetzt mit Bestätigung, Bundles, Limits, Animationen & Sounds.</p>
    </header>

    <section class="top-row">
      <div class="left-controls">
        <button id="next-round" class="btn">Neues Spiel</button>
        <button id="auto-play" class="btn secondary">Auto: Aus</button>
      </div>

      <div class="coins-panel">
        <div class="coins">Coins: <span id="coin-count">0</span></div>
        <button id="open-garage" class="btn secondary">Garage</button>
      </div>
    </section>

    <section id="game" aria-live="polite">
      <div class="status">
        <div class="player-info">
          <div id="player-count">Du: 0</div>
          <progress id="player-progress" value="0" max="40"></progress>
        </div>

        <div id="round-message" class="round-message">Bereit?</div>

        <div class="player-info">
          <div id="computer-count">Computer: 0</div>
          <progress id="computer-progress" value="0" max="40"></progress>
        </div>
      </div>

      <div class="boards">
        <div class="board" id="player-board" aria-label="Deine Karte">
          <h2>Deine Karte</h2>
          <div id="player-card" class="card empty" role="article">Keine Karte</div>
        </div>

        <div class="board" id="computer-board" aria-label="Computer Karte">
          <h2>Computer</h2>
          <div id="computer-card" class="card back" role="article">Verdeckt</div>
        </div>
      </div>

      <div id="stat-controls" class="stat-controls">
        <div id="stat-buttons" class="stat-buttons"></div>
      </div>

      <div id="log" class="log" aria-live="polite"></div>
    </section>

    <section id="howto" class="howto">
      <h3>So wird gespielt</h3>
      <ol>
        <li>Neues Spiel starten — Karten werden gemischt und verteilt.</li>
        <li>Wähle eine Kategorie (Top-Speed, PS, 0–100, Gewicht, Preis).</li>
        <li>Gewinner erhält beide Karten und Coins (pro Runde + Spielgewinn).</li>
        <li>In der Garage kannst du Karten dauerhaft verbessern — Käufe müssen bestätigt werden.</li>
      </ol>
    </section>

    <footer>
      <small>Hoste dieses Verzeichnis als GitHub Pages (Branch <code>main</code> oder <code>gh-pages</code>).</small>
    </footer>
  </main>

  <!-- Garage Panel -->
  <aside id="garage-panel" class="garage-panel hidden" aria-hidden="true">
    <div class="garage-header">
      <h3>Garage</h3>
      <div class="garage-coins">Deine Coins: <strong id="garage-coin-count">0</strong></div>
      <button id="close-garage" class="btn secondary">Schließen</button>
    </div>

    <div id="garage-content" class="garage-content">
      <p class="muted">Wähle eine Karte und kaufe einzelne Upgrades oder das komplette Bundle (+1 Level auf alle Stats) mit Rabatt.</p>
      <div id="garage-cards" class="garage-cards"></div>
    </div>

    <div class="garage-footer">
      <small>Upgrades sind permanent (im Browser gespeichert).</small>
    </div>
  </aside>

  <!-- Confirmation Modal -->
  <div id="confirm-modal" class="modal hidden" role="dialog" aria-hidden="true" aria-modal="true">
    <div class="modal-inner">
      <h4 id="confirm-title">Bestätigen</h4>
      <div id="confirm-body" class="confirm-body"></div>
      <div class="confirm-actions">
        <button id="confirm-cancel" class="btn secondary">Abbrechen</button>
        <button id="confirm-ok" class="btn">Kaufen</button>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast hidden"></div>

  <script src="script.js"></script>
</body>
</html>
